"use strict";(self["webpackChunkjcrew"]=self["webpackChunkjcrew"]||[]).push([[647],{7647:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:" breadcrumb bg-light"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/"}},[t._v("首頁")])],1),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{path:"/productslist",query:{category:t.product.options.mainCategory}}}},[t._v(" "+t._s(t.product.options.mainCategory)+"服裝 ")])],1),a("li",{staticClass:"breadcrumb-item"},[t._v(" "+t._s(t.product.title)+" ")])])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-8 product-content"},[a("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl}})]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticStyle:{top:"10px"}},[a("h1",{staticClass:"h3"},[t._v(" "+t._s(t.product.title)+" ")]),t.product.origin_price!==t.product.price?a("div",{staticClass:"d-flex align-items-baseline"},[a("del",{staticClass:"text-muted"},[t._v("售價： "+t._s(t._f("currency")(t.product.origin_price)))]),a("div",{staticClass:"ml-auto h5 text-danger"},[a("small",[t._v("特價：")]),a("strong",[t._v(" "+t._s(t._f("currency")(t.product.price)))])])]):t._e(),t.product.origin_price==t.product.price?a("div",{staticClass:"d-flex align-items-baseline"},[a("div",{staticClass:"ml-auto h5 "},[a("small",[t._v("售價：")]),a("strong",[t._v(" "+t._s(t._f("currency")(t.product.price)))])])]):t._e(),a("hr"),t._l(t.filterSize,(function(e,s){return a("button",{key:s,staticClass:"btn btn-outline-dark  rounded-0 px-2 py-0 mr-2",class:{"btn-dark":t.selectedSize===e.name,sizeDisabled:!e.select},attrs:{type:"button",disabled:!e.select},on:{click:function(a){return t.selectSize(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),a("hr"),t._m(0),a("hr"),a("div",{staticClass:"addcart"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.qty,expression:"qty"}],staticClass:"form-control mb-1 w-50",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.qty=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0",disabled:""}},[t._v("請選擇數量")]),t._l(15,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" "+t._s(t.product.unit)+" ")])}))],2),a("button",{staticClass:"btn btn-primary w-85 ",on:{click:function(e){return e.preventDefault(),t.addToCart(t.qty)}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" 加入購物車 ")]),a("button",{staticClass:"btn btn-outline-primary float-right rounded-0",class:{"d-none":t.isFavorite},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addFavorite()}}},[a("i",{staticClass:"fas fa-heart"})]),a("button",{staticClass:"btn btn-outline-primary float-right rounded-0",class:{"d-none":!t.isFavorite},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.removeFavorite(!1)}}},[a("i",{staticClass:"fas fa-heart-broken"})])]),a("hr"),a("h3",[t._v("商品介紹")]),a("p",[t._v(" "+t._s(t.product.description))]),a("p",{staticClass:"mr-0"},[t._v(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Pariatur doloribus, laudantium hic perferendis necessitatibus dolorem ipsam ")]),a("p",[t._v(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Quibusdam rem sed vitae facilis modi maxime veniam similique eveniet. ")])],2)]),t._m(1),t._m(2)]),a("CardSider")],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"product-primary"},[a("li",[a("button",{staticClass:"btn btn-link p-0",attrs:{type:"button","data-toggle":"modal","data-target":"#sizeModalCenter"}},[a("i",{staticClass:"fas fa-ruler-horizontal"}),t._v(" 尺寸 ")])]),a("li",[a("button",{staticClass:"btn btn-link p-0",attrs:{type:"button","data-toggle":"modal","data-target":"#tryonModalCenter"}},[a("i",{staticClass:"fas fa-tshirt"}),t._v(" 試穿報告 ")])]),a("li")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"sizeModalCenter",role:"dialog","aria-labelledby":"sizeModalCenterTitle",tabindex:"-1","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header pb-0 border-0"},[a("button",{staticClass:"close p-2",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body text-center"},[a("h5",{staticClass:"mb-4"},[t._v("產品尺寸")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table d-table"},[a("thead",[a("tr",[a("th",[t._v("尺碼")]),a("th",[t._v("胸寬")]),a("th",[t._v("腰寬")]),a("th",[t._v("全長")])])]),a("tbody",[a("tr",[a("th",[t._v("S")]),a("td",[t._v("40.5")]),a("td",[t._v("43")]),a("td",[t._v("54")])]),a("tr",[a("th",[t._v("M")]),a("td",[t._v("42.5")]),a("td",[t._v("45.5")]),a("td",[t._v("55.5")])]),a("tr",[a("th",[t._v("L")]),a("td",[t._v("45")]),a("td",[t._v("48")]),a("td",[t._v("57")])])])])]),a("p",[t._v("*單位：cm")])])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"tryonModalCenter",role:"dialog","aria-labelledby":"tryonModalCenterTitle",tabindex:"-1","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header pb-0 border-0"},[a("button",{staticClass:"close p-2",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body text-center"},[a("h5",{staticClass:"mb-4"},[t._v("試穿報告")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table d-table"},[a("thead",[a("tr",[a("th",[t._v("試穿人員")]),a("th",[t._v("身高(cm)")]),a("th",[t._v("體重(kg)")]),a("th",[t._v("適合尺碼")])])]),a("tbody",[a("tr",[a("th",[t._v("Model")]),a("td",[t._v("165")]),a("td",[t._v("45")]),a("td",[t._v("S")])]),a("tr",[a("th",[t._v("A")]),a("td",[t._v("151")]),a("td",[t._v("45")]),a("td",[t._v("S")])]),a("tr",[a("th",[t._v("B")]),a("td",[t._v("155")]),a("td",[t._v("50")]),a("td",[t._v("M")])]),a("tr",[a("th",[t._v("C")]),a("td",[t._v("160")]),a("td",[t._v("70")]),a("td",[t._v("XL")])]),a("tr",[a("th",[t._v("D")]),a("td",[t._v("165")]),a("td",[t._v("50")]),a("td",[t._v("M")])]),a("tr",[a("th",[t._v("E")]),a("td",[t._v("170")]),a("td",[t._v("55")]),a("td",[t._v("L")])])])])]),a("p",[t._v("*個人比例條件不同，僅供參考")])])])])])])])}],r=a(629),d=a(9669),o=a.n(d),l=a(6802),c={data(){return{product:[],productId:"",size:[{name:"S",select:!1},{name:"M",select:!1},{name:"L",select:!1},{name:"XL",select:!1},{name:"2L",select:!1},{name:"3L",select:!1}],selectedSize:"",qty:0,isFavorite:!1}},computed:{filterSize(){const t=this,e=[],a=new Set(t.product.options.size);return t.size.forEach((t=>{const s=t.name;a.has(s)?e.push({name:s,select:!0}):e.push({name:s,select:!1})})),e},...(0,r.Se)("favoriteModules",["favorites"])},methods:{getProduct(){const t=this,e=`https://vue-course-api.hexschool.io/api/jcrewpractice/product/${t.productId}`;t.$store.dispatch("updateLoading",!0),o().get(e).then((e=>{e.data.success?(t.product=e.data.product,t.$store.dispatch("productsModules/setNowCategory",t.product.options.mainCategory),t.favorites.forEach((e=>{t.product.id===e.id&&(t.isFavorite=!0)}))):t.$store.dispatch("alertMessageModules/updateMessage",{message:"找不到此商品",status:"danger"})})),t.$store.dispatch("updateLoading",!1)},selectSize(t){const e=this;e.selectedSize=t},addToCart(t){const e=this;""===e.selectedSize?e.$store.dispatch("alertMessageModules/updateMessage",{message:"請選擇尺寸",status:"danger"}):0===t?e.$store.dispatch("alertMessageModules/updateMessage",{message:"請選擇數量",status:"danger"}):e.$store.dispatch("cartModules/addToCart",{id:this.productId,qty:t,size:e.selectedSize})},addFavorite(){const t=this;t.$store.dispatch("favoriteModules/addToFavorite",this.product),t.isFavorite=!0},removeFavorite(t){const e=this;e.$store.dispatch("favoriteModules/removeFavorite",{favoriteItem:this.product,delall:t}),e.isFavorite=!1}},watch:{$route(){const t=this;t.productId=this.$route.params.productId,t.getProduct(),t.selectedSize="",t.qty=0}},created(){const t=this;t.productId=this.$route.params.productId,t.getProduct()},components:{CardSider:l.Z}},n=c,u=a(1001),v=(0,u.Z)(n,s,i,!1,null,"015bc7d7",null),p=v.exports}}]);
//# sourceMappingURL=647.2046c4a0.js.map